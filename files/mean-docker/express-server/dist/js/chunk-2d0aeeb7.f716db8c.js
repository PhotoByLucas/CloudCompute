(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aeeb7"],{"0bb1":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-page"},[a("el-dialog",{attrs:{title:"存款",visible:e.dialogFormVisibleAdd,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisibleAdd=t}}},[a("el-form",{attrs:{width:"50%"}},[a("el-form-item",{attrs:{label:"存款金额"}},[a("el-input",{model:{value:e.dailogDataAddAndDelete.balance,callback:function(t){e.$set(e.dailogDataAddAndDelete,"balance",t)},expression:"dailogDataAddAndDelete.balance"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibleAdd=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deposit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"取款",visible:e.dialogFormVisibleDelete,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisibleDelete=t}}},[a("el-form",{attrs:{width:"50%"}},[a("el-form-item",{attrs:{label:"取款金额"}},[a("el-input",{model:{value:e.dailogDataAddAndDelete.balance,callback:function(t){e.$set(e.dailogDataAddAndDelete,"balance",t)},expression:"dailogDataAddAndDelete.balance"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisibleDelete=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.withdraw}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"转账",visible:e.dailogtranfer,width:"30%"},on:{"update:visible":function(t){e.dailogtranfer=t}}},[a("el-form",{attrs:{width:"50%"}},[a("el-form-item",{attrs:{label:"取款金额"}},[a("el-input",{model:{value:e.dailogDataAddAndDelete.balance,callback:function(t){e.$set(e.dailogDataAddAndDelete,"balance",t)},expression:"dailogDataAddAndDelete.balance"}})],1),a("el-form-item",{attrs:{label:"转账对象"}},[a("el-input",{model:{value:e.dailogDataAddAndDelete.transferID,callback:function(t){e.$set(e.dailogDataAddAndDelete,"transferID",t)},expression:"dailogDataAddAndDelete.transferID"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dailogtranfer=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.transfer}},[e._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"accountID",label:"AccountId"}}),a("el-table-column",{attrs:{prop:"clientID",label:"所属客户"}}),a("el-table-column",{attrs:{prop:"balance",label:"余额"}}),a("el-table-column",{attrs:{prop:"_id",label:"账号唯一标识"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:function(a){return e.clickAddOrDelete(t.row,1)}}},[e._v("存款")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-remove-outline"},on:{click:function(a){return e.clickAddOrDelete(t.row,2)}}},[e._v("取款")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-sort"},on:{click:function(a){return e.clickTransfer(t.row)}}},[e._v("转账")])]}}])})],1)],1)},i=[],n=(a("7f7f"),a("4b89")),o={name:"TestTable",data:function(){var e=this;return{dailogDataAddAndDelete:{accountID:"",balance:"",transferID:""},dailogtranfer:!1,dialogFormVisibleAdd:!1,dialogFormVisibleDelete:!1,tableData:[],total:0,list:[{id:1,title:"测试标题",state:0,author:"测试作者",phone:"123456789",email:"51698@1564.com",createDate:"2019-04-21"},{id:1,title:"测试标题",state:1,author:"测试作者",phone:"123456789",email:"51698@1564.com",createDate:"2019-04-21"}],maxHeight:500,columns:[{prop:"id",label:"编号",align:"center",width:60},{prop:"title",label:"标题",align:"center",width:200,render:function(e,t){return e("el-button",{props:{type:"text"},style:{color:"red"}},t.row.title)}},{prop:"state",label:"状态",align:"center",width:"160",render:function(e,t){return e("el-tag",{props:{type:0===t.row.state?"success":1===t.row.state?"info":"danger"}},0===t.row.state?"上架":1===t.row.state?"下架":"审核中")},filters:[{text:"上架",value:0},{text:"下架",value:1}],sortable:!0},{prop:"author",label:"作者",align:"center",width:120},{prop:"phone",label:"联系方式",align:"center",width:160},{prop:"email",label:"邮箱",align:"center",width:240},{prop:"createDate",label:"发布时间",align:"center",width:180}],operates:{width:200,fixed:"right",list:[{label:"编辑",type:"warning",show:function(e,t){return!0},icon:"el-icon-edit",plain:!0,disabled:!1,method:function(t,a){e.handleEdit(t,a)}},{label:"删除",type:"danger",icon:"el-icon-delete",show:!0,plain:!1,disabled:function(e,t){return!1},method:function(t,a){e.handleDel(t,a)}}]},pagination:{pageIndex:1,pageSize:20},options:{stripe:!0,loading:!1,highlightCurrentRow:!0,mutiSelect:!0}}},mounted:function(){if(!this.$store.state.user.userInfo.name){var e=n["a"].get("userInfo");this.$store.commit("set_userInfo",e)}this.getTabledata()},methods:{getTabledata:function(){var e=this;"admin"===this.$store.state.user.userInfo.name?this.api.getAccountAll().then(function(t){e.tableData=t}):this.api.getAccountById(this.$store.state.user.userInfo).then(function(t){e.tableData=t})},clickTransfer:function(e){this.dailogtranfer=!0,this.dailogDataAddAndDelete.balance="",this.dailogDataAddAndDelete.accountID=e.accountID},clickAddOrDelete:function(e,t){console.log(e),this.dailogDataAddAndDelete.balance="",this.dailogDataAddAndDelete.accountID=e.accountID,1===t?this.dialogFormVisibleAdd=!0:this.dialogFormVisibleDelete=!0},transfer:function(){var e=this;if(this.dailogDataAddAndDelete.accountID===this.dailogDataAddAndDelete.transferID)this.$message.error("转出转入账号相同");else{var t={accountID:this.dailogDataAddAndDelete.accountID,balance:this.dailogDataAddAndDelete.balance},a={accountID:this.dailogDataAddAndDelete.transferID,balance:this.dailogDataAddAndDelete.balance};this.api.postAccountWithdraw(t).then(function(t){e.api.postAccountDeposit(a).then(function(t){e.dailogtranfer=!1,e.getTabledata(),e.$message({message:"转账",type:"success"})})});var l={accountID:this.dailogDataAddAndDelete.accountID,receiver:this.dailogDataAddAndDelete.transferID,amount:this.dailogDataAddAndDelete.balance};this.api.postRecord(l).then(function(t){e.$message({message:"存款记录成功",type:"success"})})}},deposit:function(){var e=this;this.api.postAccountDeposit(this.dailogDataAddAndDelete).then(function(t){e.dialogFormVisibleAdd=!1,e.getTabledata(),e.$message({message:"存款成功",type:"success"})});var t={accountID:"0",receiver:this.dailogDataAddAndDelete.accountID,amount:this.dailogDataAddAndDelete.balance};this.api.postRecord(t).then(function(t){e.$message({message:"存款记录成功",type:"success"})})},withdraw:function(){var e=this;this.api.postAccountWithdraw(this.dailogDataAddAndDelete).then(function(t){e.getTabledata(),e.dialogFormVisibleDelete=!1,e.$message({message:"取款成功",type:"success"})});var t={receiver:"0",accountID:this.dailogDataAddAndDelete.accountID,amount:this.dailogDataAddAndDelete.balance};this.api.postRecord(t).then(function(t){e.$message({message:"取款记录成功",type:"success"})})}}},d=o,s=a("2877"),r=Object(s["a"])(d,l,i,!1,null,null,null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0aeeb7.f716db8c.js.map